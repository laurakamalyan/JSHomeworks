<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pagination</title>
</head>

<body>
    <div class="pages"></div>
    <div id="posts"></div>

    <script>
        async function posts(limit, page) {
            let url = `https://jsonplaceholder.typicode.com/posts?_limit=${limit}&_page=${page}`;
            return await fetch(url)
                .then(res => res.json())
                .then(data => {
                    data.forEach(post => {
                        posts_div.innerHTML += `
                        <div>
                            <p>${post.id}</p>
                            <h3>${post.title}</h3>
                            <p>${post.body}</p>
                            <hr>
                        </div>
                    `;
                    })
                })
        }

        async function posts_count() {
            let count = 0;
            await fetch("https://jsonplaceholder.typicode.com/posts")
                .then(res => res.json())
                .then(data => count = data.length);
            return count;
        }

        let page = 1;
        let limit = 10;

        let posts_div = document.getElementById("posts");

        posts(limit, page);

        let pages = document.getElementsByClassName("pages")[0];
        posts_count().then(res => {
            let count = res / limit;
            for (let i = 1; i <= count; i++) {
                pages.innerHTML += `<button onclick="show_posts(${i})">${i}</button>`;
            }
        });

        function show_posts(page) {
            posts_div.innerHTML = "";
            posts(limit, page);
        }

    </script>
</body>

</html>